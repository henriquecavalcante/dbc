<div class="container">
  <div class="d-flex mt-4" style="justify-content: space-between">
    <h3>Lista de Estados</h3>
  </div>
  <hr />
  <div class="card mt-4 mb-4">
    <mat-form-field>
      <mat-label>Selecione o estado:</mat-label>
      <mat-select [(value)]="selectedOption" (selectionChange)="setStateInfo()">
        <mat-option class="primary" *ngFor="let state of states" [value]="state.abbreviation">
          {{state.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div class="row">
      <div class="col-lg-4 col-md-4 col-sm-12">
        <img [src]="imgSrc" class="city-flag">
      </div>
      <div class="col-lg-8 col-md-8 col-sm-12">
        <div class="state-info" *ngIf="hasData">
          <h5 class="mt-3">População Total</h5>
          <span>{{ stateInfo.info.totalPopulation }}</span>

          <h5 class="mt-4">Custo da População em Dólar</h5>
          <span>{{ stateInfo.info.totalCostUsd | currency: 'USD' }}</span>

          <h5 class="mt-4">Custo da População em Real</h5>
          <span>{{ stateInfo.info.totalCostBrl | currency: 'BRL' }}</span>
        </div>
      </div>
    </div>
    <hr style="border-top: 1px dashed lightgray;">
    <h5 class="mt-2">Cidades do Estado</h5>
    <div class="no-cities" *ngIf="hasData && stateInfo.cities.length === 0">Ainda não foram cadastradas cidades para este
      Estado.</div>
    <table *ngIf="hasData && stateInfo.cities.length > 0" class="table">
      <thead class="thead-green">
        <tr>
          <th>Cidade</th>
          <th>População</th>
        </tr>
      </thead>
      <tr *ngFor="let city of stateInfo.cities;">
        <td>{{ city.name }}</td>
        <td>{{ city.population }}</td>
      </tr>
    </table>
  </div>
</div>